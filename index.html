<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
  <meta charset="utf-8">
  <!--[if IE]>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">``
  <![endif]-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <title>網頁標題. Maximum length 60-70 characters</title>
  <meta name="description" content="網頁簡介. No longer than 155 characters." />
  <meta name="keywords" content="關鍵字,META,SEO">
  <meta name="author" content="作者" >
  <meta name="copyright" content="xxx版權所有" >

  <!-- Google Authorship and Publisher Markup -->
  <link rel="author" href=" https://plus.google.com/[Google+_Profile]/posts"/>
  <link rel="publisher" href="https://plus.google.com/[Google+_Page_Profile]"/>

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@publisher_handle ,Twitter 的帳號">
  <meta name="twitter:creator" content="@author_handle 作者">

  <!--Fb Open Graph data -->
  <meta property="og:title" content="網頁標題" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="網址" />
  <meta property="og:image" content=" http://example.com/image.jpg" />
  <meta property="og:description" content="網頁簡介" />
  <meta property="og:site_name" content="Site Name, i.e. Moz" />
  <meta property="article:tag" content="Article Tag" />

  <link rel="stylesheet" href="css/index.min.css">
  <!-- 讓ie8以下支援html5語意標籤 -->
  <!--[if lt IE 9]>
  <![endif]-->
  <!-- 讓ie6~8支援CSS3偽類和屬性選擇器(:first-child) -->
  <!--[if (gte IE 6)&(lte IE 8)]>
  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/selectivizr/1.0.2/selectivizr-min.js"></script>
  <![endif]-->
  </head>

<header>
  <h1>橫向瀑布流流流流流</h1>
</header>
<main>
  <div class="grid">
    <div class="item item-height2" item_id="1">
      <span class="number">1</span>
      <img src="https://c3.staticflickr.com/1/361/19761217962_a3570fe583_c.jpg" />
    </div>
    <div class="item item-width2" item_id="3">
      <span class="number">3</span>
      <img src="https://c3.staticflickr.com/1/361/19761217962_a3570fe583_c.jpg" />
    </div>
    <div class="item" item_id="5">
      <span class="number">5</span>
      <img src="https://c3.staticflickr.com/1/361/19761217962_a3570fe583_c.jpg" />
    </div>
    <div class="item" item_id="7">
      <span class="number">7</span>
      <img src="https://c3.staticflickr.com/1/361/19761217962_a3570fe583_c.jpg" />
    </div>
    <div class="item item-width2 item-height2" item_id="9">
      <span class="number">9</span>
      <img src="https://c3.staticflickr.com/1/361/19761217962_a3570fe583_c.jpg" />
    </div>
    <div class="item item-width2" item_id="11">
      <span class="number">11</span>
      <img src="https://c3.staticflickr.com/1/361/19761217962_a3570fe583_c.jpg" />
    </div>
    <div class="item item-width2" item_id="13">
      <span class="number">13</span>
      <img src="https://c3.staticflickr.com/1/361/19761217962_a3570fe583_c.jpg" />
    </div>
    <div class="item item-height2" item_id="15">
      <span class="number">15</span>
      <img src="https://c3.staticflickr.com/1/361/19761217962_a3570fe583_c.jpg" />
    </div>
    <div class="item" item_id="17">
      <span class="number">17</span>
      <img src="https://c3.staticflickr.com/1/361/19761217962_a3570fe583_c.jpg" />
    </div>
    <div class="item item-width2" item_id="19">
      <span class="number">19</span>
      <img src="https://c3.staticflickr.com/1/361/19761217962_a3570fe583_c.jpg" />
    </div>
    <div class="item item-height2" item_id="21">
      <span class="number">21</span>
      <img src="https://c3.staticflickr.com/1/361/19761217962_a3570fe583_c.jpg" />
    </div>
    <div class="item" item_id="23">
      <span class="number">23</span>
      <img src="https://c3.staticflickr.com/1/361/19761217962_a3570fe583_c.jpg" />
    </div>
    <div class="item" item_id="25">
      <span class="number">25</span>
      <img src="https://c3.staticflickr.com/1/361/19761217962_a3570fe583_c.jpg" />
    </div>
    <div class="item item-height2" item_id="27">
      <span class="number">27</span>
      <img src="https://c3.staticflickr.com/1/361/19761217962_a3570fe583_c.jpg" />
    </div>
    <div class="item item-width2" item_id="29">
      <span class="number">29</span>
      <img src="https://c3.staticflickr.com/1/361/19761217962_a3570fe583_c.jpg" />
    </div>
   </div>
</main>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.1/isotope.pkgd.min.js"></script>
  <script src="https://npmcdn.com/isotope-masonry-horizontal@2/masonry-horizontal.js"></script>
  <script type="text/javascript">

    var grid = $('.grid').isotope({
      layoutMode: 'masonryHorizontal',
      itemSelector: '.item',
      masonryHorizontal: {
        rowHeight: 100
      },
     // filter items with odd numbers
      filter: function() {
        var number = $( this ).attr('item_id');
        return parseInt( number, 10 ) ;
      },
      // sort by number
      sortBy: 'number',
      getSortData: {
        'number': '.number parseInt'
      }
    });

    // var str='<div class="item item-height2"><img src="https://c3.staticflickr.com/1/361/19761217962_a3570fe583_c.jpg" /></div>';
    var isOpen = false;
    $('.grid').on('click','.item',function(){
      var n = parseInt($(this).attr('item_id'))+1;
      console.log(isOpen);
      console.log(n-1);

      if (isOpen) {
        var remove_item = $('.item-open') ;
        grid.isotope( 'remove', remove_item );
      } else {
        var str='<div class="item item-open" item_id="'+n+'"><span class="number">'+n+'</span><h2>標題標題</h2><p>內文內文內文</p></div>';
        console.log(str);
        // var $items = getItemElement().add( getItemElement() ).add( getItemElement() );
        // // insert new elements
       // create new item elements
        var $items = $(str);
        // insert new elements
        grid.isotope( 'insert', $items );
      }
      // trigger layout
      grid.isotope('layout');
      // set flag
      isOpen = !isOpen;


    });

  </script>
  </body>
</html>
